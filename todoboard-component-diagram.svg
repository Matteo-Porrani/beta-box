<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="800" fill="#0c0a09"/>

  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" fill="#f5f5f4" font-size="20" font-weight="bold" font-family="monospace">TodoBoard.vue Component Interactions &amp; Data Flow</text>

  <!-- TodoBoard Component -->
  <rect x="50" y="60" width="1100" height="200" fill="#292524" stroke="#78716c" stroke-width="2" rx="8"/>
  <text x="70" y="85" fill="#f5f5f4" font-size="16" font-weight="bold" font-family="monospace">TodoBoard.vue (Parent)</text>

  <!-- TodoBoard Internal Data -->
  <rect x="70" y="100" width="250" height="140" fill="#1c1917" stroke="#57534e" rx="4"/>
  <text x="80" y="120" fill="#d6d3d1" font-size="12" font-weight="bold" font-family="monospace">State &amp; Data:</text>
  <text x="80" y="140" fill="#a8a29e" font-size="11" font-family="monospace">• currentBoardId: ref(1)</text>
  <text x="80" y="155" fill="#a8a29e" font-size="11" font-family="monospace">• matrixData: ref({})</text>
  <text x="80" y="170" fill="#a8a29e" font-size="11" font-family="monospace">• textSize: ref(2)</text>
  <text x="80" y="185" fill="#a8a29e" font-size="11" font-family="monospace">• gridConfig (rows/cols)</text>
  <text x="80" y="200" fill="#a8a29e" font-size="11" font-family="monospace">• tasks (from Vuex store)</text>
  <text x="80" y="215" fill="#a8a29e" font-size="11" font-family="monospace">• todoForm</text>

  <!-- TodoBoard Methods -->
  <rect x="340" y="100" width="280" height="140" fill="#1c1917" stroke="#57534e" rx="4"/>
  <text x="350" y="120" fill="#d6d3d1" font-size="12" font-weight="bold" font-family="monospace">Event Handlers:</text>
  <text x="350" y="140" fill="#a8a29e" font-size="11" font-family="monospace">• handleTodoDrop(event)</text>
  <text x="350" y="155" fill="#a8a29e" font-size="11" font-family="monospace">• handleTodoUpdate(todo)</text>
  <text x="350" y="170" fill="#a8a29e" font-size="11" font-family="monospace">• handleTodoDelete(id)</text>
  <text x="350" y="185" fill="#a8a29e" font-size="11" font-family="monospace">• handleTodoCopy(id)</text>
  <text x="350" y="200" fill="#a8a29e" font-size="11" font-family="monospace">• saveTodo()</text>
  <text x="350" y="215" fill="#a8a29e" font-size="11" font-family="monospace">• switchBoard(), createNewBoard()</text>

  <!-- TodoBoard Computed -->
  <rect x="640" y="100" width="200" height="140" fill="#1c1917" stroke="#57534e" rx="4"/>
  <text x="650" y="120" fill="#d6d3d1" font-size="12" font-weight="bold" font-family="monospace">Computed:</text>
  <text x="650" y="140" fill="#a8a29e" font-size="11" font-family="monospace">• currentMatrix</text>
  <text x="650" y="155" fill="#a8a29e" font-size="11" font-family="monospace">• gridStyle</text>
  <text x="650" y="170" fill="#a8a29e" font-size="11" font-family="monospace">• tasks (store getter)</text>

  <!-- Composables Used -->
  <rect x="860" y="100" width="270" height="140" fill="#1c1917" stroke="#57534e" rx="4"/>
  <text x="870" y="120" fill="#d6d3d1" font-size="12" font-weight="bold" font-family="monospace">Composables:</text>
  <text x="870" y="140" fill="#a8a29e" font-size="11" font-family="monospace">• useBoardManagement</text>
  <text x="870" y="155" fill="#a8a29e" font-size="11" font-family="monospace">• useTodoOperations</text>
  <text x="870" y="170" fill="#a8a29e" font-size="11" font-family="monospace">• useGridConfig</text>
  <text x="870" y="185" fill="#a8a29e" font-size="11" font-family="monospace">• useStore (Vuex)</text>

  <!-- TodoSlot Components -->
  <rect x="100" y="320" width="450" height="180" fill="#374151" stroke="#6b7280" stroke-width="2" rx="8"/>
  <text x="110" y="345" fill="#f9fafb" font-size="16" font-weight="bold" font-family="monospace">TodoSlot.vue (Grid Container)</text>

  <!-- TodoSlot Props -->
  <rect x="120" y="360" width="180" height="120" fill="#1f2937" stroke="#4b5563" rx="4"/>
  <text x="130" y="380" fill="#e5e7eb" font-size="12" font-weight="bold" font-family="monospace">Props from Parent:</text>
  <text x="130" y="400" fill="#d1d5db" font-size="11" font-family="monospace">• row: Number</text>
  <text x="130" y="415" fill="#d1d5db" font-size="11" font-family="monospace">• column: Number</text>
  <text x="130" y="430" fill="#d1d5db" font-size="11" font-family="monospace">• todoId: Number|null</text>
  <text x="130" y="445" fill="#d1d5db" font-size="11" font-family="monospace">• @drop handler</text>
  <text x="130" y="460" fill="#d1d5db" font-size="11" font-family="monospace">• Contains TodoCard</text>

  <!-- TodoSlot Events -->
  <rect x="320" y="360" width="210" height="120" fill="#1f2937" stroke="#4b5563" rx="4"/>
  <text x="330" y="380" fill="#e5e7eb" font-size="12" font-weight="bold" font-family="monospace">Drag &amp; Drop Events:</text>
  <text x="330" y="400" fill="#d1d5db" font-size="11" font-family="monospace">• @dragover.prevent</text>
  <text x="330" y="415" fill="#d1d5db" font-size="11" font-family="monospace">• @dragenter.prevent</text>
  <text x="330" y="430" fill="#d1d5db" font-size="11" font-family="monospace">• @dragleave</text>
  <text x="330" y="445" fill="#d1d5db" font-size="11" font-family="monospace">• @drop.prevent → emit('drop')</text>
  <text x="330" y="460" fill="#d1d5db" font-size="11" font-family="monospace">• Visual drag feedback</text>

  <!-- TodoCard Components -->
  <rect x="650" y="320" width="500" height="180" fill="#065f46" stroke="#10b981" stroke-width="2" rx="8"/>
  <text x="660" y="345" fill="#ecfdf5" font-size="16" font-weight="bold" font-family="monospace">TodoCard.vue (Todo Item)</text>

  <!-- TodoCard Props -->
  <rect x="670" y="360" width="180" height="120" fill="#064e3b" stroke="#059669" rx="4"/>
  <text x="680" y="380" fill="#d1fae5" font-size="12" font-weight="bold" font-family="monospace">Props from Parent:</text>
  <text x="680" y="400" fill="#a7f3d0" font-size="11" font-family="monospace">• todo: Object</text>
  <text x="680" y="415" fill="#a7f3d0" font-size="11" font-family="monospace">• position: Object</text>
  <text x="680" y="430" fill="#a7f3d0" font-size="11" font-family="monospace">• textSize: Number</text>
  <text x="680" y="445" fill="#a7f3d0" font-size="11" font-family="monospace">• Event handlers</text>

  <!-- TodoCard Events -->
  <rect x="870" y="360" width="260" height="120" fill="#064e3b" stroke="#059669" rx="4"/>
  <text x="880" y="380" fill="#d1fae5" font-size="12" font-weight="bold" font-family="monospace">Events to Parent:</text>
  <text x="880" y="400" fill="#a7f3d0" font-size="11" font-family="monospace">• @update (todo changes)</text>
  <text x="880" y="415" fill="#a7f3d0" font-size="11" font-family="monospace">• @delete (todo deletion)</text>
  <text x="880" y="430" fill="#a7f3d0" font-size="11" font-family="monospace">• @copy (todo duplication)</text>
  <text x="880" y="445" fill="#a7f3d0" font-size="11" font-family="monospace">• @dragstart (drag initiation)</text>
  <text x="880" y="460" fill="#a7f3d0" font-size="11" font-family="monospace">• Double-click editing</text>

  <!-- ColorSelector Component -->
  <rect x="100" y="560" width="400" height="150" fill="#7c2d12" stroke="#ea580c" stroke-width="2" rx="8"/>
  <text x="110" y="585" fill="#fed7aa" font-size="16" font-weight="bold" font-family="monospace">ColorSelector.vue (Popup Menu)</text>

  <!-- ColorSelector Props -->
  <rect x="120" y="600" width="160" height="90" fill="#541a0b" stroke="#c2410c" rx="4"/>
  <text x="130" y="620" fill="#fed7aa" font-size="12" font-weight="bold" font-family="monospace">Props:</text>
  <text x="130" y="640" fill="#fdba74" font-size="11" font-family="monospace">• todo: Object</text>
  <text x="130" y="655" fill="#fdba74" font-size="11" font-family="monospace">• visible: Boolean</text>

  <!-- ColorSelector Events -->
  <rect x="300" y="600" width="180" height="90" fill="#541a0b" stroke="#c2410c" rx="4"/>
  <text x="310" y="620" fill="#fed7aa" font-size="12" font-weight="bold" font-family="monospace">Events to TodoCard:</text>
  <text x="310" y="640" fill="#fdba74" font-size="11" font-family="monospace">• @update</text>
  <text x="310" y="655" fill="#fdba74" font-size="11" font-family="monospace">• @close</text>
  <text x="310" y="670" fill="#fdba74" font-size="11" font-family="monospace">• @delete</text>

  <!-- Data Flow Arrows -->
  <!-- TodoBoard to TodoSlot -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#60a5fa"/>
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34d399"/>
    </marker>
    <marker id="arrowhead-orange" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#fb923c"/>
    </marker>
  </defs>

  <!-- Props flow down -->
  <line x1="325" y1="260" x2="325" y2="320" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="335" y="290" fill="#60a5fa" font-size="12" font-family="monospace">Props Down</text>

  <!-- Events flow up -->
  <line x1="300" y1="320" x2="300" y2="260" stroke="#f87171" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="210" y="290" fill="#f87171" font-size="12" font-family="monospace">Events Up</text>

  <!-- TodoSlot contains TodoCard -->
  <line x1="550" y1="410" x2="650" y2="410" stroke="#34d399" stroke-width="2" marker-end="url(#arrowhead-green)"/>
  <text x="570" y="400" fill="#34d399" font-size="12" font-family="monospace">Contains</text>

  <!-- TodoCard shows ColorSelector -->
  <line x1="800" y1="500" x2="400" y2="560" stroke="#fb923c" stroke-width="2" marker-end="url(#arrowhead-orange)"/>
  <text x="550" y="530" fill="#fb923c" font-size="12" font-family="monospace">Shows on menu click</text>

  <!-- Loop explanation -->
  <rect x="50" y="730" width="1100" height="60" fill="#1c1917" stroke="#57534e" rx="4"/>
  <text x="60" y="750" fill="#f5f5f4" font-size="14" font-weight="bold" font-family="monospace">Data Flow Summary:</text>
  <text x="60" y="770" fill="#d6d3d1" font-size="12" font-family="monospace">TodoBoard renders TodoSlots in a grid → Each TodoSlot can contain a TodoCard → TodoCard can show ColorSelector popup → All events bubble up through emit() chain back to TodoBoard</text>

</svg>